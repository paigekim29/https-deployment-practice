(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,n){e.exports=n(60)},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(30),s=n.n(r),u=n(10),i=n(11),o=n(14),c=n(13),m=n(1),p=n(16),h=n(12),d=n(8),g=n(7),E=n.n(g);E.a.defaults.withCredentials=!0;var b=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleInputValue=function(e){return function(t){a.setState(Object(p.a)({},e,t.target.value))}},a.handleLogin=function(){var e=a.props.handleResponseSuccess,t=a.state,n=t.email,l=t.password;if(n&&l)return a.setState({errorMessage:""}),E.a.post("https://3.89.24.7:5000/signin",{email:n,password:l}).then(e).catch((function(e){alert("Login failed"),console.log(e)}));a.setState({errorMessage:"\uc774\uba54\uc77c\uacfc \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694"})},a.state={email:"",password:"",errorMessage:""},a.handleInputValue=a.handleInputValue.bind(Object(h.a)(a)),a}return Object(i.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("h1",null,"Sign In"),l.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},l.a.createElement("div",null,l.a.createElement("span",null,"\uc774\uba54\uc77c"),l.a.createElement("input",{type:"email",onChange:this.handleInputValue("email")})),l.a.createElement("div",null,l.a.createElement("span",null,"\ube44\ubc00\ubc88\ud638"),l.a.createElement("input",{type:"password",onChange:this.handleInputValue("password")})),l.a.createElement("div",null,l.a.createElement(d.b,{to:"/signup"},"\uc544\uc9c1 \uc544\uc774\ub514\uac00 \uc5c6\uc73c\uc2e0\uac00\uc694?")),l.a.createElement("button",{className:"btn btn-login",type:"submit",onClick:this.handleLogin},"\ub85c\uadf8\uc778"),this.state.errorMessage?l.a.createElement("div",{className:"alert-box"},this.state.errorMessage):"")))}}]),n}(l.a.Component),f=Object(m.g)(b);E.a.defaults.withCredentials=!0;var v=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleInputValue=function(e){return function(t){a.setState(Object(p.a)({},e,t.target.value))}},a.handleSignup=function(){var e=a.state,t=e.email,n=e.password,l=e.mobile,r=e.username;t&&n&&l&&r?(a.setState({errorMessage:""}),E.a.post("https://3.89.24.7:5000/signup",{email:t,password:n,username:r,mobile:l}).then((function(e){a.props.history.push("/")})).catch((function(e){return console.log(e)}))):a.setState({errorMessage:"\ubaa8\ub4e0 \ud56d\ubaa9\uc740 \ud544\uc218\uc785\ub2c8\ub2e4"})},a.state={email:"",password:"",username:"",mobile:"",errorMessage:""},a.handleInputValue=a.handleInputValue.bind(Object(h.a)(a)),a}return Object(i.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("h1",null,"Sign Up"),l.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},l.a.createElement("div",null,"\ubaa8\ub4e0 \ud56d\ubaa9\uc740 \ud544\uc218\uc785\ub2c8\ub2e4"),l.a.createElement("div",null,l.a.createElement("span",null,"\uc774\uba54\uc77c"),l.a.createElement("input",{type:"email",onChange:this.handleInputValue("email")})),l.a.createElement("div",null,l.a.createElement("span",null,"\ube44\ubc00\ubc88\ud638"),l.a.createElement("input",{type:"password",onChange:this.handleInputValue("password")})),l.a.createElement("div",null,l.a.createElement("span",null,"\uc774\ub984"),l.a.createElement("input",{type:"text",onChange:this.handleInputValue("username")})),l.a.createElement("div",null,l.a.createElement("span",null,"\uc804\ud654\ubc88\ud638"),l.a.createElement("input",{type:"tel",onChange:this.handleInputValue("mobile")})),l.a.createElement("div",null,l.a.createElement(d.b,{to:"/login"},"\uc774\ubbf8 \uc544\uc774\ub514\uac00 \uc788\uc73c\uc2e0\uac00\uc694?")),l.a.createElement("button",{className:"btn btn-signup",type:"submit",onClick:this.handleSignup},"\ud68c\uc6d0\uac00\uc785"),this.state.errorMessage?l.a.createElement("div",{className:"alert-box"},this.state.errorMessage):"")))}}]),n}(l.a.Component),y=Object(m.g)(v);E.a.defaults.withCredentials=!0;var j=function(e){var t=e.userinfo,n=e.handleLogout;return t?l.a.createElement("div",null,l.a.createElement("h1",null,"Mypage"),l.a.createElement("div",{className:"username"},t.username),l.a.createElement("div",{className:"email"},t.email),l.a.createElement("div",{className:"mobile"},t.mobile),l.a.createElement("button",{className:"btn btn-logout",onClick:n},"logout")):""},O=(n(59),function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={isLogin:!1,userinfo:null},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.isAuthenticated()}},{key:"isAuthenticated",value:function(){var e=this;return E.a.get("https://3.89.24.7:5000/user").then((function(t){console.log(t.data),e.setState({userinfo:t.data,isLogin:!0}),e.props.history.push("/")})).catch((function(t){401===t.response.status&&(e.setState({isLogin:!1}),e.props.history.push("/login"))}))}},{key:"handleResponseSuccess",value:function(){this.isAuthenticated()}},{key:"handleLogout",value:function(){var e=this;E.a.post("https://3.89.24.7:5000/signout").then((function(t){e.setState({userinfo:null,isLogin:!1}),e.props.history.push("/")}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLogin,a=t.userinfo;return l.a.createElement("div",null,l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/login",render:function(){return l.a.createElement(f,{isLogin:n,handleResponseSuccess:e.handleResponseSuccess.bind(e)})}}),l.a.createElement(m.b,{exact:!0,path:"/signup",render:function(){return l.a.createElement(y,{isLogin:n})}}),l.a.createElement(m.b,{exact:!0,path:"/mypage",render:function(){return l.a.createElement(j,{userinfo:a,handleLogout:e.handleLogout.bind(e)})}}),l.a.createElement(m.b,{path:"/",render:function(){return n?l.a.createElement(m.a,{to:"/mypage"}):l.a.createElement(m.a,{to:"/login"})}})))}}]),n}(l.a.Component)),S=Object(m.g)(O);s.a.render(l.a.createElement(d.a,null,l.a.createElement(S,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.4104649f.chunk.js.map