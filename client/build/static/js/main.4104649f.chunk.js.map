{"version":3,"sources":["pages/Login.js","pages/Signup.js","pages/Mypage.js","App.js","index.js"],"names":["axios","defaults","withCredentials","Login","props","handleInputValue","key","e","setState","target","value","handleLogin","handleResponseSuccess","state","email","password","errorMessage","post","then","catch","err","alert","console","log","bind","onSubmit","preventDefault","type","onChange","this","to","className","onClick","React","Component","withRouter","Signup","handleSignup","mobile","username","res","history","push","Mypage","userinfo","handleLogout","App","isLogin","isAuthenticated","get","data","response","status","path","render","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.4104649f.chunk.js","sourcesContent":["import React from \"react\";\n// import \"../App.css\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\n\naxios.defaults.withCredentials = true;\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errorMessage: \"\"\n    };\n    this.handleInputValue = this.handleInputValue.bind(this);\n  }\n  handleInputValue = (key) => (e) => {\n    this.setState({ [key]: e.target.value });\n  };\n  handleLogin = () => {\n    // TODO : 서버에 로그인 요청 후 처리하세요.\n    // TODO : 이메일 및 비밀번호를 입력하지 않았을 경우 에러를 표시해야 합니다.\n    const { handleResponseSuccess } = this.props;\n    const { email, password } = this.state;\n\n    if (!email || !password) {\n      this.setState({\n        errorMessage: \"이메일과 비밀번호를 입력하세요\"\n      });\n      return;\n    }\n    else {\n      this.setState({\n        errorMessage: \"\"\n      });\n    }\n\n    return axios\n      .post(\"https://3.89.24.7:5000/signin\", {\n        email: email,\n        password: password,\n      })\n      .then(handleResponseSuccess)\n      .catch((err) => {\n        alert(\"Login failed\");\n        console.log(err);\n      });\n  };\n  render() {\n    return (\n      <div>\n        <center>\n          <h1>Sign In</h1>\n          <form onSubmit={(e) => e.preventDefault()}>\n            <div>\n              <span>이메일</span>\n              <input type='email' onChange={this.handleInputValue(\"email\")}/>\n            </div>\n            <div>\n              <span>비밀번호</span>\n              <input type='password' onChange={this.handleInputValue(\"password\")}/>\n            </div>\n            <div>\n              <Link to='/signup'>아직 아이디가 없으신가요?</Link>\n            </div>\n            <button className='btn btn-login' type='submit' onClick={this.handleLogin}>\n              로그인\n            </button>\n            {this.state.errorMessage ?\n              <div className=\"alert-box\">\n                {this.state.errorMessage}\n              </div> : ''}\n          </form>\n        </center>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Login);\n","import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\naxios.defaults.withCredentials = true;\nclass Signup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      username: \"\",\n      mobile: \"\",\n      errorMessage: \"\"\n    };\n    this.handleInputValue = this.handleInputValue.bind(this);\n  }\n\n  handleInputValue = (key) => (e) => {\n    this.setState({ [key]: e.target.value });\n  };\n\n  handleSignup = () => {\n    // TODO : 서버에 회원가입 요청 후 로그인 페이지로 이동 하세요.\n    //        로그인 페이지로 이동시, 다음 코드를 이용하세요.\n    //        this.props.history.push(\"/\");\n    //\n    // TODO : 모든 항목을 입력하지 않았을 경우 에러를 표시해야 합니다.\n    const { email, password, mobile, username } = this.state;\n    if (!email || !password || !mobile || !username) {\n      this.setState({\n        errorMessage: \"모든 항목은 필수입니다\"\n      });\n      return;\n    }\n    else {\n      this.setState({\n        errorMessage: \"\"\n      });\n    }\n\n    axios\n      .post(\"https://3.89.24.7:5000/signup\", {\n        email: email,\n        password: password,\n        username: username,\n        mobile: mobile,\n      })\n      .then((res) => {\n        this.props.history.push(\"/\");\n      })\n      .catch((err) => console.log(err));\n  }\n\n  render() {\n    return (\n      <div>\n        <center>\n          <h1>Sign Up</h1>\n          <form onSubmit={(e) => e.preventDefault()}>\n            <div>모든 항목은 필수입니다</div>\n            <div>\n              <span>이메일</span>\n              <input\n                type=\"email\"\n                onChange={this.handleInputValue(\"email\")}\n              />\n            </div>\n            <div>\n              <span>비밀번호</span>\n              <input\n                type=\"password\"\n                onChange={this.handleInputValue(\"password\")}\n              />\n            </div>\n            <div>\n              <span>이름</span>\n              <input\n                type='text'\n                onChange={this.handleInputValue(\"username\")}\n              />\n            </div>\n            <div>\n              <span>전화번호</span>\n              <input\n                type='tel'\n                onChange={this.handleInputValue(\"mobile\")}\n              />\n            </div>\n            <div>\n              <Link to='/login'>이미 아이디가 있으신가요?</Link>\n            </div>\n            <button\n              className=\"btn btn-signup\"\n              type='submit'\n              onClick={this.handleSignup}\n            >\n              회원가입\n            </button>\n            {this.state.errorMessage ?\n              <div className=\"alert-box\">\n                {this.state.errorMessage}\n              </div> : ''}\n          </form>\n        </center>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Signup);\n","import React from 'react';\nimport axios from 'axios';\n\naxios.defaults.withCredentials = true;\n\nfunction Mypage(props) {\n  const { userinfo, handleLogout } = props;\n\n  return (userinfo ?\n    <div>\n      <h1>Mypage</h1>\n      <div className=\"username\">{userinfo.username}</div>\n      <div className=\"email\">{userinfo.email}</div>\n      <div className=\"mobile\">{userinfo.mobile}</div>\n\n      <button className=\"btn btn-logout\" onClick={handleLogout}>logout</button>\n    </div>\n    : '');\n\n}\n\nexport default Mypage;","import React from \"react\";\nimport { Switch, Route, Redirect, withRouter } from \"react-router-dom\";\n\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\nimport Mypage from \"./pages/Mypage\";\nimport axios from \"axios\";\nimport './App.css';\n\nclass App extends React.Component {\n  state = {\n    isLogin: false,\n    userinfo: null,\n  };\n\n  componentDidMount() {\n    this.isAuthenticated();\n  }\n\n  isAuthenticated() {\n    return axios.get(\"https://3.89.24.7:5000/user\")\n      .then((res) => {\n        console.log(res.data);\n        this.setState({ userinfo: res.data, isLogin: true });\n        this.props.history.push('/');\n      })\n      .catch((err) => {\n        if (err.response.status === 401) {\n          this.setState({ isLogin: false })\n          this.props.history.push('/login');\n        }\n      })\n  }\n\n  handleResponseSuccess() {\n    this.isAuthenticated();\n  }\n\n  handleLogout() {\n    axios.post(\"https://3.89.24.7:5000/signout\")\n      .then((res) => {\n        this.setState({ userinfo: null, isLogin: false });\n        this.props.history.push('/');\n      })\n  }\n\n  render() {\n    const { isLogin, userinfo } = this.state;\n\n    return (\n      <div>\n        <Switch>\n          <Route\n            path='/login'\n            render={() => (\n              <Login isLogin={isLogin} handleResponseSuccess={this.handleResponseSuccess.bind(this)} />\n            )}\n          />\n          <Route exact path='/signup' render={() => <Signup isLogin={isLogin} />} />\n          <Route\n            exact\n            path='/mypage'\n            render={() => <Mypage userinfo={userinfo} handleLogout={this.handleLogout.bind(this)} />}\n          />\n          <Route\n            path='/'\n            render={() => {\n              if (isLogin) {\n                return <Redirect to='/mypage' />;\n              }\n              return <Redirect to='/login' />;\n            }}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}